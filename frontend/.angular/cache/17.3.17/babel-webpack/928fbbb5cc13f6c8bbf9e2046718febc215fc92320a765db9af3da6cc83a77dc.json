{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"../../services/audit-logger.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = (a0, a1, a2, a3) => ({\n  \"bg-green-100 text-green-800\": a0,\n  \"bg-blue-100 text-blue-800\": a1,\n  \"bg-purple-100 text-purple-800\": a2,\n  \"bg-red-100 text-red-800\": a3\n});\nconst _c1 = (a0, a1, a2) => ({\n  \"bg-yellow-100 text-yellow-800\": a0,\n  \"bg-green-100 text-green-800\": a1,\n  \"bg-red-100 text-red-800\": a2\n});\nfunction DashboardComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 37)(2, \"div\", 5)(3, \"div\", 38);\n    i0.ɵɵelement(4, \"i\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"p\", 40);\n    i0.ɵɵtext(7, \"Annual Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 41);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 10);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 37)(13, \"div\", 5)(14, \"div\", 42);\n    i0.ɵɵelement(15, \"i\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\")(17, \"p\", 40);\n    i0.ɵɵtext(18, \"Sick Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 41);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\", 10);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(23, \"div\", 37)(24, \"div\", 5)(25, \"div\", 44);\n    i0.ɵɵelement(26, \"i\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\")(28, \"p\", 40);\n    i0.ɵɵtext(29, \"Casual Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 41);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"p\", 10);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.leaveBalance.annualRemaining);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.leaveBalance.annualUsed, \" days used\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.leaveBalance.sickRemaining);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.leaveBalance.sickUsed, \" days used\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.leaveBalance.casualRemaining);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.leaveBalance.casualUsed, \" days used\");\n  }\n}\nfunction DashboardComponent_button_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_button_40_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.navigateToAdmin());\n    });\n    i0.ɵɵelement(1, \"i\", 47);\n    i0.ɵɵtext(2, \" Admin Panel \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_41_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"i\", 72);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.createLeaveError, \" \");\n  }\n}\nfunction DashboardComponent_div_41_span_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Request\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_41_span_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵelement(1, \"i\", 73);\n    i0.ɵɵtext(2, \" Submitting... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49)(2, \"h3\", 9);\n    i0.ɵɵtext(3, \"Request New Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_41_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.cancelCreateLeave());\n    });\n    i0.ɵɵelement(5, \"i\", 51);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"form\", 52, 0);\n    i0.ɵɵlistener(\"ngSubmit\", function DashboardComponent_div_41_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.submitLeaveRequest());\n    });\n    i0.ɵɵelementStart(8, \"div\", 53)(9, \"div\")(10, \"label\", 54);\n    i0.ɵɵtext(11, \"Leave Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"select\", 55);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_41_Template_select_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newLeave.leaveType, $event) || (ctx_r0.newLeave.leaveType = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(13, \"option\", 56);\n    i0.ɵɵtext(14, \"Select leave type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"option\", 57);\n    i0.ɵɵtext(16, \"Annual Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"option\", 58);\n    i0.ɵɵtext(18, \"Sick Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"option\", 59);\n    i0.ɵɵtext(20, \"Casual Leave\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"option\", 60);\n    i0.ɵɵtext(22, \"Emergency Leave\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\")(24, \"label\", 54);\n    i0.ɵɵtext(25, \"Duration (Days)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"input\", 61);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_41_Template_input_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newLeave.duration, $event) || (ctx_r0.newLeave.duration = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\")(28, \"label\", 54);\n    i0.ɵɵtext(29, \"Start Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"input\", 62);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_41_Template_input_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newLeave.startDate, $event) || (ctx_r0.newLeave.startDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\")(32, \"label\", 54);\n    i0.ɵɵtext(33, \"End Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"input\", 63);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_41_Template_input_ngModelChange_34_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newLeave.endDate, $event) || (ctx_r0.newLeave.endDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(35, \"div\")(36, \"label\", 54);\n    i0.ɵɵtext(37, \"Reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"textarea\", 64);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_41_Template_textarea_ngModelChange_38_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newLeave.reason, $event) || (ctx_r0.newLeave.reason = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(39, DashboardComponent_div_41_div_39_Template, 4, 1, \"div\", 65);\n    i0.ɵɵelementStart(40, \"div\", 66)(41, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_41_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.cancelCreateLeave());\n    });\n    i0.ɵɵtext(42, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"button\", 68);\n    i0.ɵɵtemplate(44, DashboardComponent_div_41_span_44_Template, 2, 0, \"span\", 69)(45, DashboardComponent_div_41_span_45_Template, 3, 0, \"span\", 70);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const leaveForm_r4 = i0.ɵɵreference(7);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newLeave.leaveType);\n    i0.ɵɵadvance(14);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newLeave.duration);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newLeave.startDate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newLeave.endDate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newLeave.reason);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.createLeaveError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !leaveForm_r4.valid || ctx_r0.isSubmittingLeave);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isSubmittingLeave);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isSubmittingLeave);\n  }\n}\nfunction DashboardComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74)(1, \"div\", 75);\n    i0.ɵɵelement(2, \"i\", 76);\n    i0.ɵɵelementStart(3, \"p\", 77);\n    i0.ɵɵtext(4, \"Loading your leave requests...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction DashboardComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 78);\n    i0.ɵɵelement(1, \"i\", 79);\n    i0.ɵɵelementStart(2, \"p\", 80);\n    i0.ɵɵtext(3, \"No leave requests found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 81);\n    i0.ɵɵtext(5, \"Start by creating your first leave request!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_48_tr_17_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_48_tr_17_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const leave_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.deleteLeave(leave_r6.id));\n    });\n    i0.ɵɵelement(1, \"i\", 97);\n    i0.ɵɵtext(2, \" Delete \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_48_tr_17_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 98);\n    i0.ɵɵtext(1, \" No actions \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_48_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 88)(1, \"td\", 89)(2, \"span\", 90);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 91);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 91);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 89)(9, \"span\", 90);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\", 92);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 93);\n    i0.ɵɵtemplate(14, DashboardComponent_div_48_tr_17_button_14_Template, 3, 0, \"button\", 94)(15, DashboardComponent_div_48_tr_17_span_15_Template, 2, 0, \"span\", 95);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const leave_r6 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(10, _c0, leave_r6.leaveType === \"ANNUAL\", leave_r6.leaveType === \"SICK\", leave_r6.leaveType === \"CASUAL\", leave_r6.leaveType === \"EMERGENCY\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getLeaveTypeLabel(leave_r6.leaveType), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", leave_r6.duration, \" days \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.formatDate(leave_r6.startDate), \" - \", ctx_r0.formatDate(leave_r6.endDate), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(15, _c1, leave_r6.status === \"PENDING\", leave_r6.status === \"APPROVED\", leave_r6.status === \"REJECTED\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", leave_r6.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", leave_r6.reason || \"No reason provided\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", leave_r6.status === \"PENDING\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", leave_r6.status !== \"PENDING\");\n  }\n}\nfunction DashboardComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 82)(1, \"table\", 83)(2, \"thead\", 84)(3, \"tr\")(4, \"th\", 85);\n    i0.ɵɵtext(5, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 85);\n    i0.ɵɵtext(7, \"Duration\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 85);\n    i0.ɵɵtext(9, \"Dates\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 85);\n    i0.ɵɵtext(11, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 85);\n    i0.ɵɵtext(13, \"Reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 85);\n    i0.ɵɵtext(15, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\", 86);\n    i0.ɵɵtemplate(17, DashboardComponent_div_48_tr_17_Template, 16, 19, \"tr\", 87);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.leaves);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(apiService, auditLogger, router) {\n      this.apiService = apiService;\n      this.auditLogger = auditLogger;\n      this.router = router;\n      this.currentUser = null;\n      this.leaves = [];\n      this.leaveBalance = null;\n      this.isLoading = true;\n      this.showCreateLeaveForm = false;\n      this.isSubmittingLeave = false;\n      this.createLeaveError = '';\n      this.newLeave = {\n        leaveType: '',\n        startDate: '',\n        endDate: '',\n        duration: 1,\n        reason: ''\n      };\n      this.componentStartTime = Date.now();\n    }\n    ngOnInit() {\n      this.currentUser = this.apiService.getCurrentUser();\n      this.auditLogger.logComponentLifecycle('DashboardComponent', 'OnInit', {\n        userId: this.currentUser?.id,\n        userRole: this.currentUser?.role,\n        timestamp: new Date().toISOString()\n      });\n      this.loadDashboardData();\n    }\n    ngOnDestroy() {\n      this.auditLogger.logComponentLifecycle('DashboardComponent', 'OnDestroy', {\n        sessionDuration: Date.now() - this.componentStartTime,\n        userId: this.currentUser?.id\n      });\n    }\n    loadDashboardData() {\n      this.loadMyLeaves();\n      this.loadLeaveBalance();\n    }\n    loadMyLeaves() {\n      this.isLoading = true;\n      this.auditLogger.logUserAction('Load My Leaves', 'DashboardComponent', {\n        userId: this.currentUser?.id\n      });\n      // Note: This would call the actual API when the backend endpoints are integrated\n      // For now, using mock data\n      setTimeout(() => {\n        this.leaves = [];\n        this.isLoading = false;\n      }, 1000);\n    }\n    loadLeaveBalance() {\n      // Note: This would call the actual API when the backend endpoints are integrated\n      // For now, using mock data\n      this.leaveBalance = {\n        annualRemaining: 20,\n        sickRemaining: 8,\n        casualRemaining: 3,\n        annualUsed: 5,\n        sickUsed: 2,\n        casualUsed: 2\n      };\n    }\n    submitLeaveRequest() {\n      this.createLeaveError = '';\n      if (!this.newLeave.leaveType || !this.newLeave.startDate || !this.newLeave.endDate || !this.newLeave.duration) {\n        this.createLeaveError = 'Please fill in all required fields';\n        return;\n      }\n      this.isSubmittingLeave = true;\n      this.auditLogger.logUserAction('Submit Leave Request', 'DashboardComponent', {\n        leaveType: this.newLeave.leaveType,\n        duration: this.newLeave.duration,\n        userId: this.currentUser?.id\n      });\n      // Note: This would call the actual API when integrated\n      setTimeout(() => {\n        this.isSubmittingLeave = false;\n        this.showCreateLeaveForm = false;\n        this.resetLeaveForm();\n        this.loadMyLeaves(); // Refresh the list\n      }, 2000);\n    }\n    cancelCreateLeave() {\n      this.showCreateLeaveForm = false;\n      this.resetLeaveForm();\n      this.auditLogger.logUserAction('Cancel Leave Request', 'DashboardComponent');\n    }\n    resetLeaveForm() {\n      this.newLeave = {\n        leaveType: '',\n        startDate: '',\n        endDate: '',\n        duration: 1,\n        reason: ''\n      };\n      this.createLeaveError = '';\n    }\n    deleteLeave(leaveId) {\n      if (confirm('Are you sure you want to delete this leave request?')) {\n        this.auditLogger.logUserAction('Delete Leave Request', 'DashboardComponent', {\n          leaveId,\n          userId: this.currentUser?.id\n        });\n        // Note: This would call the actual API when integrated\n        this.leaves = this.leaves.filter(leave => leave.id !== leaveId);\n      }\n    }\n    logout() {\n      this.auditLogger.logUserAction('Logout', 'DashboardComponent', {\n        userId: this.currentUser?.id\n      });\n      this.apiService.logout();\n      this.router.navigate(['/home']);\n    }\n    navigateToAdmin() {\n      this.auditLogger.logNavigation('/dashboard', '/admin');\n      this.router.navigate(['/admin']);\n    }\n    getUserInitials() {\n      if (!this.currentUser) return '';\n      const firstName = this.currentUser.firstName || '';\n      const lastName = this.currentUser.lastName || '';\n      return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase();\n    }\n    getLeaveTypeLabel(type) {\n      const labels = {\n        'ANNUAL': 'Annual',\n        'SICK': 'Sick',\n        'CASUAL': 'Casual',\n        'EMERGENCY': 'Emergency'\n      };\n      return labels[type] || type;\n    }\n    formatDate(dateString) {\n      return new Date(dateString).toLocaleDateString();\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuditLoggerService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 49,\n        vars: 11,\n        consts: [[\"leaveForm\", \"ngForm\"], [1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-blue-50\", \"via-indigo-50\", \"to-purple-50\"], [1, \"bg-white\", \"shadow-lg\", \"border-b\", \"border-gray-200\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"flex\", \"justify-between\", \"h-16\"], [1, \"flex\", \"items-center\"], [1, \"flex-shrink-0\", \"flex\", \"items-center\"], [1, \"w-10\", \"h-10\", \"bg-gradient-to-br\", \"from-blue-500\", \"to-purple-600\", \"rounded-xl\", \"flex\", \"items-center\", \"justify-center\", \"mr-3\"], [1, \"fas\", \"fa-calendar-alt\", \"text-white\", \"text-lg\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\"], [1, \"text-xs\", \"text-gray-500\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [1, \"flex\", \"items-center\", \"space-x-3\"], [1, \"text-right\"], [1, \"text-sm\", \"font-medium\", \"text-gray-900\"], [1, \"w-10\", \"h-10\", \"bg-gradient-to-br\", \"from-green-400\", \"to-blue-500\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-white\", \"font-semibold\", \"text-sm\"], [1, \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"border\", \"border-transparent\", \"text-sm\", \"font-medium\", \"rounded-lg\", \"text-white\", \"bg-red-600\", \"hover:bg-red-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-red-500\", \"transition-all\", \"duration-200\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\", \"mr-2\"], [1, \"max-w-7xl\", \"mx-auto\", \"py-6\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"mb-8\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [1, \"text-lg\", \"text-gray-600\"], [\"class\", \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"gap-4\", \"mb-8\"], [1, \"inline-flex\", \"items-center\", \"px-6\", \"py-3\", \"border\", \"border-transparent\", \"text-base\", \"font-medium\", \"rounded-lg\", \"text-white\", \"bg-blue-600\", \"hover:bg-blue-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-blue-500\", \"transition-all\", \"duration-200\", \"shadow-lg\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"mr-2\"], [1, \"inline-flex\", \"items-center\", \"px-6\", \"py-3\", \"border\", \"border-gray-300\", \"text-base\", \"font-medium\", \"rounded-lg\", \"text-gray-700\", \"bg-white\", \"hover:bg-gray-50\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-blue-500\", \"transition-all\", \"duration-200\", \"shadow-lg\", 3, \"click\"], [1, \"fas\", \"fa-refresh\", \"mr-2\"], [\"class\", \"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 shadow-lg\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-200\", 4, \"ngIf\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-lg\", \"border\", \"border-gray-200\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-gray-200\"], [\"class\", \"flex justify-center items-center py-12\", 4, \"ngIf\"], [\"class\", \"text-center py-12\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-6\", \"mb-8\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-lg\", \"p-6\", \"border\", \"border-gray-100\"], [1, \"w-12\", \"h-12\", \"bg-green-100\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\", \"mr-4\"], [1, \"fas\", \"fa-calendar-check\", \"text-green-600\", \"text-xl\"], [1, \"text-sm\", \"font-medium\", \"text-gray-600\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\"], [1, \"w-12\", \"h-12\", \"bg-blue-100\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\", \"mr-4\"], [1, \"fas\", \"fa-heartbeat\", \"text-blue-600\", \"text-xl\"], [1, \"w-12\", \"h-12\", \"bg-purple-100\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\", \"mr-4\"], [1, \"fas\", \"fa-coffee\", \"text-purple-600\", \"text-xl\"], [1, \"inline-flex\", \"items-center\", \"px-6\", \"py-3\", \"border\", \"border-transparent\", \"text-base\", \"font-medium\", \"rounded-lg\", \"text-white\", \"bg-purple-600\", \"hover:bg-purple-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-purple-500\", \"transition-all\", \"duration-200\", \"shadow-lg\", 3, \"click\"], [1, \"fas\", \"fa-cog\", \"mr-2\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-lg\", \"p-6\", \"mb-8\", \"border\", \"border-gray-200\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\"], [1, \"text-gray-400\", \"hover:text-gray-600\", \"transition-colors\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"text-xl\"], [1, \"space-y-6\", 3, \"ngSubmit\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [\"name\", \"leaveType\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"transition-all\", \"duration-200\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"ANNUAL\"], [\"value\", \"SICK\"], [\"value\", \"CASUAL\"], [\"value\", \"EMERGENCY\"], [\"type\", \"number\", \"name\", \"duration\", \"min\", \"1\", \"required\", \"\", \"placeholder\", \"Number of days\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"transition-all\", \"duration-200\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"date\", \"name\", \"startDate\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"transition-all\", \"duration-200\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"date\", \"name\", \"endDate\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"transition-all\", \"duration-200\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"reason\", \"rows\", \"3\", \"placeholder\", \"Please provide a reason for your leave request...\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"transition-all\", \"duration-200\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\", 4, \"ngIf\"], [1, \"flex\", \"justify-end\", \"space-x-4\"], [\"type\", \"button\", 1, \"px-6\", \"py-3\", \"border\", \"border-gray-300\", \"text-gray-700\", \"rounded-lg\", \"hover:bg-gray-50\", \"transition-all\", \"duration-200\", 3, \"click\"], [\"type\", \"submit\", 1, \"px-6\", \"py-3\", \"bg-blue-600\", \"text-white\", \"rounded-lg\", \"hover:bg-blue-700\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", \"transition-all\", \"duration-200\", 3, \"disabled\"], [4, \"ngIf\"], [\"class\", \"flex items-center\", 4, \"ngIf\"], [1, \"bg-red-50\", \"border\", \"border-red-200\", \"text-red-700\", \"px-4\", \"py-3\", \"rounded-lg\", \"text-sm\"], [1, \"fas\", \"fa-exclamation-circle\", \"mr-2\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\", \"mr-2\"], [1, \"flex\", \"justify-center\", \"items-center\", \"py-12\"], [1, \"text-center\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\", \"text-blue-500\", \"text-3xl\", \"mb-4\"], [1, \"text-gray-600\"], [1, \"text-center\", \"py-12\"], [1, \"fas\", \"fa-calendar-times\", \"text-gray-400\", \"text-4xl\", \"mb-4\"], [1, \"text-xl\", \"text-gray-600\", \"mb-2\"], [1, \"text-gray-500\"], [1, \"overflow-x-auto\"], [1, \"w-full\"], [1, \"bg-gray-50\"], [1, \"px-6\", \"py-3\", \"text-left\", \"text-xs\", \"font-medium\", \"text-gray-500\", \"uppercase\", \"tracking-wider\"], [1, \"bg-white\", \"divide-y\", \"divide-gray-200\"], [\"class\", \"hover:bg-gray-50\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover:bg-gray-50\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\"], [1, \"inline-flex\", \"items-center\", \"px-2.5\", \"py-0.5\", \"rounded-full\", \"text-xs\", \"font-medium\", 3, \"ngClass\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"text-gray-900\"], [1, \"px-6\", \"py-4\", \"text-sm\", \"text-gray-900\", \"max-w-xs\", \"truncate\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"font-medium\"], [\"class\", \"text-red-600 hover:text-red-900 transition-colors\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"text-gray-400\", 4, \"ngIf\"], [1, \"text-red-600\", \"hover:text-red-900\", \"transition-colors\", 3, \"click\"], [1, \"fas\", \"fa-trash\", \"mr-1\"], [1, \"text-gray-400\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"nav\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5)(5, \"div\", 6)(6, \"div\", 7);\n            i0.ɵɵelement(7, \"i\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\")(9, \"h1\", 9);\n            i0.ɵɵtext(10, \"LeaveFlow\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"p\", 10);\n            i0.ɵɵtext(12, \"Employee Dashboard\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(13, \"div\", 11)(14, \"div\", 12)(15, \"div\", 13)(16, \"p\", 14);\n            i0.ɵɵtext(17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"p\", 10);\n            i0.ɵɵtext(19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 15)(21, \"span\", 16);\n            i0.ɵɵtext(22);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(23, \"button\", 17);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_23_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵelement(24, \"i\", 18);\n            i0.ɵɵtext(25, \" Logout \");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(26, \"div\", 19)(27, \"div\", 20)(28, \"h2\", 21);\n            i0.ɵɵtext(29);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"p\", 22);\n            i0.ɵɵtext(31, \"Manage your leave requests and view your leave balance.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(32, DashboardComponent_div_32_Template, 34, 6, \"div\", 23);\n            i0.ɵɵelementStart(33, \"div\", 24)(34, \"button\", 25);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_34_listener() {\n              return ctx.showCreateLeaveForm = true;\n            });\n            i0.ɵɵelement(35, \"i\", 26);\n            i0.ɵɵtext(36, \" Request Leave \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"button\", 27);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_37_listener() {\n              return ctx.loadMyLeaves();\n            });\n            i0.ɵɵelement(38, \"i\", 28);\n            i0.ɵɵtext(39, \" Refresh \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(40, DashboardComponent_button_40_Template, 3, 0, \"button\", 29);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(41, DashboardComponent_div_41_Template, 46, 9, \"div\", 30);\n            i0.ɵɵelementStart(42, \"div\", 31)(43, \"div\", 32)(44, \"h3\", 9);\n            i0.ɵɵtext(45, \"My Leave Requests\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(46, DashboardComponent_div_46_Template, 5, 0, \"div\", 33)(47, DashboardComponent_div_47_Template, 6, 0, \"div\", 34)(48, DashboardComponent_div_48_Template, 18, 1, \"div\", 35);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(17);\n            i0.ɵɵtextInterpolate2(\"\", ctx.currentUser == null ? null : ctx.currentUser.firstName, \" \", ctx.currentUser == null ? null : ctx.currentUser.lastName, \"\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.email);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate(ctx.getUserInitials());\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\"Welcome back, \", ctx.currentUser == null ? null : ctx.currentUser.firstName, \"!\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.leaveBalance);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", (ctx.currentUser == null ? null : ctx.currentUser.role) === \"ADMIN\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showCreateLeaveForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.leaves.length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.leaves.length > 0);\n          }\n        },\n        dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, FormsModule, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinValidator, i5.NgModel, i5.NgForm, RouterModule],\n        styles: [\".grid[_ngcontent-%COMP%]{display:grid}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width: 768px){.md\\\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}.gap-4[_ngcontent-%COMP%]{gap:1rem}.gap-6[_ngcontent-%COMP%]{gap:1.5rem}.space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}.space-x-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.75rem}.space-x-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:1rem}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto}.max-w-xs[_ngcontent-%COMP%]{max-width:20rem}.truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.divide-y[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{border-top-width:1px}.divide-gray-200[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{border-color:#e5e7eb}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}